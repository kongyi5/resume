{"version":3,"sources":["main.js"],"names":["portfolio1","onclick","portfolioBar","className","portfolio2","portfolio3","specialTags","document","querySelectorAll","i","length","classList","add","findClosest","minIndex","Math","abs","offsetTop","window","scrollY","remove","id","li","querySelector","parentNode","brotherAndMe","children","onscroll","topNavBar","liTags","onmouseenter","x","currentTarget","onmouseleave","aTags","animate","time","requestAnimationFrame","TWEEN","update","preventDefault","a","href","getAttribute","element","top","currentTop","targetTop","s","t","coords","y","Tween","to","easing","Easing","Quadratic","InOut","onUpdate","scrollTo","start"],"mappings":";AAAAA,WAAWC,QAAU,WACnBC,aAAaC,UAAY,eAE3BC,WAAWH,QAAU,WACnBC,aAAaC,UAAY,eAE3BE,WAAWJ,QAAU,WACnBC,aAAaC,UAAY,eAK3B,IADA,IAAIG,EAAcC,SAASC,iBAAiB,YACnCC,EAAI,EAAGA,EAAIH,EAAYI,OAAQD,IACtCH,EAAYG,GAAGE,UAAUC,IAAI,UAc/B,SAASC,IAGF,IAFDP,IAAAA,EAAcC,SAASC,iBAAiB,YACxCM,EAAW,EACNL,EAAI,EAAGA,EAAIH,EAAYI,OAAQD,IAEpCM,KAAKC,IAAIV,EAAYG,GAAGQ,UAAYC,OAAOC,SAC3CJ,KAAKC,IAAIV,EAAYQ,GAAUG,UAAYC,OAAOC,WAElDL,EAAWL,GAIfH,EAAYQ,GAAUH,UAAUS,OAAO,UAKlC,IAJDC,IAAAA,EAAKf,EAAYQ,GAAUO,GAE3BC,EADIf,SAASgB,cAAc,YAAcF,EAAK,MACvCG,WACPC,EAAeH,EAAGE,WAAWE,SACxBjB,EAAI,EAAGA,EAAIgB,EAAaf,OAAQD,IACvCgB,EAAahB,GAAGE,UAAUS,OAAO,aAEnCE,EAAGX,UAAUC,IAAI,aA/BnBC,IAEAK,OAAOS,SAAW,WACZT,OAAOC,QAAU,EACnBS,UAAUjB,UAAUC,IAAI,UAExBgB,UAAUjB,UAAUS,OAAO,UAE7BP,KA2BF,IADA,IAAIgB,EAAStB,SAASC,iBAAiB,qBAC9BC,EAAI,EAAGA,EAAIoB,EAAOnB,OAAQD,IACjCoB,EAAOpB,GAAGqB,aAAe,SAACC,GACxBA,EAAEC,cAAcrB,UAAUC,IAAI,WAEhCiB,EAAOpB,GAAGwB,aAAe,SAACF,GACxBA,EAAEC,cAAcrB,UAAUS,OAAO,WAIrC,IAAIc,EAAQ3B,SAASC,iBAAiB,uBAEtC,SAAS2B,EAAQC,GACfC,sBAAsBF,GACtBG,MAAMC,OAAOH,GAEfC,sBAAsBF,GAEtB,IAAK,IAAI1B,EAAI,EAAGA,EAAIyB,EAAMxB,OAAQD,IAChCyB,EAAMzB,GAAGR,QAAU,SAAC8B,GAClBA,EAAES,iBACEC,IACAC,EADIX,EAAEC,cACGW,aAAa,QACtBD,GAAS,MAATA,OACG,CACDE,IACAC,EADUtC,SAASgB,cAAcmB,GACnBzB,UACd6B,EAAa5B,OAAOC,QACpB4B,EAAYF,EAAM,GAClBG,EAAID,EAAYD,EAChBG,EAAIlC,KAAKC,IAAKgC,EAAI,IAAO,KACzBC,EAAI,MACNA,EAAI,KAEAC,IAAAA,EAAS,CAAEC,EAAGL,GACN,IAAIR,MAAMc,MAAMF,GAC3BG,GAAG,CAAEF,EAAGJ,GAAaE,GACrBK,OAAOhB,MAAMiB,OAAOC,UAAUC,OAC9BC,SAAS,WACRxC,OAAOyC,SAAS,EAAGT,EAAOC,KAE3BS","file":"main.b6b6a1de.js","sourceRoot":"..\\src","sourcesContent":["portfolio1.onclick = function () {\n  portfolioBar.className = \"bar state-1\";\n};\nportfolio2.onclick = function () {\n  portfolioBar.className = \"bar state-2\";\n};\nportfolio3.onclick = function () {\n  portfolioBar.className = \"bar state-3\";\n};\n\n// 添加 offset 类\nlet specialTags = document.querySelectorAll(\"[data-x]\");\nfor (let i = 0; i < specialTags.length; i++) {\n  specialTags[i].classList.add(\"offset\");\n}\n\nfindClosest();\n\nwindow.onscroll = () => {\n  if (window.scrollY > 0) {\n    topNavBar.classList.add(\"sticky\");\n  } else {\n    topNavBar.classList.remove(\"sticky\");\n  }\n  findClosest();\n};\n\nfunction findClosest() {\n  let specialTags = document.querySelectorAll(\"[data-x]\");\n  let minIndex = 0;\n  for (let i = 1; i < specialTags.length; i++) {\n    if (\n      Math.abs(specialTags[i].offsetTop - window.scrollY) <\n      Math.abs(specialTags[minIndex].offsetTop - window.scrollY)\n    ) {\n      minIndex = i;\n    }\n  }\n  // minIndex 就是离窗口顶部最近的元素\n  specialTags[minIndex].classList.remove(\"offset\");\n  let id = specialTags[minIndex].id;\n  let a = document.querySelector('a[href=\"#' + id + '\"]');\n  let li = a.parentNode;\n  let brotherAndMe = li.parentNode.children;\n  for (let i = 0; i < brotherAndMe.length; i++) {\n    brotherAndMe[i].classList.remove(\"highLight\");\n  }\n  li.classList.add(\"highLight\");\n}\n\nlet liTags = document.querySelectorAll(\"nav.menu > ul >li\");\nfor (let i = 0; i < liTags.length; i++) {\n  liTags[i].onmouseenter = (x) => {\n    x.currentTarget.classList.add(\"active\");\n  };\n  liTags[i].onmouseleave = (x) => {\n    x.currentTarget.classList.remove(\"active\");\n  };\n}\n\nlet aTags = document.querySelectorAll(\"nav.menu > ul> li>a\");\n\nfunction animate(time) {\n  requestAnimationFrame(animate);\n  TWEEN.update(time);\n}\nrequestAnimationFrame(animate);\n\nfor (let i = 0; i < aTags.length; i++) {\n  aTags[i].onclick = (x) => {\n    x.preventDefault(); // 阻止默认动作\n    let a = x.currentTarget;\n    let href = a.getAttribute(\"href\"); // '#siteAbout'\n    if (href === \"#\") {\n    } else {\n      let element = document.querySelector(href);\n      let top = element.offsetTop;\n      let currentTop = window.scrollY;\n      let targetTop = top - 80;\n      let s = targetTop - currentTop;\n      let t = Math.abs((s / 100) * 300);\n      if (t > 500) {\n        t = 500;\n      }\n      const coords = { y: currentTop };\n      const tween = new TWEEN.Tween(coords)\n        .to({ y: targetTop }, t)\n        .easing(TWEEN.Easing.Quadratic.InOut)\n        .onUpdate(() => {\n          window.scrollTo(0, coords.y);\n        })\n        .start();\n    }\n  };\n}\n"]}