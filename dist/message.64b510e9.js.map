{"version":3,"sources":["js/message.js"],"names":["AV","init","appId","appKey","serverURL","query","Query","find","then","messages","array","map","item","attributes","forEach","li","document","createElement","innerText","name","content","messageList","querySelector","appendChild","myForm","addEventListener","e","preventDefault","value","Message","Object","extend","message","save","object"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAAA,EAAE,CAACC,IAAH,CAAQ;AACNC,EAAAA,KAAK,EAAE,mCADD;AAENC,EAAAA,MAAM,EAAE,0BAFF;AAGNC,EAAAA,SAAS,EAAE;AAHL,CAAR,GAMA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIC,KAAK,GAAG,IAAIL,EAAE,CAACM,KAAP,CAAa,SAAb,CAAZ;AACAD,KAAK,CAACE,IAAN,GAAaC,IAAb,CAAkB,UAACC,QAAD,EAAc;AAC9B,MAAIC,KAAK,GAAGD,QAAQ,CAACE,GAAT,CAAa,UAACC,IAAD;AAAA,WAAUA,IAAI,CAACC,UAAf;AAAA,GAAb,CAAZ;AACAH,EAAAA,KAAK,CAACI,OAAN,CAAc,UAACF,IAAD,EAAU;AACtB,QAAIG,EAAE,GAAGC,QAAQ,CAACC,aAAT,CAAuB,IAAvB,CAAT;AACAF,IAAAA,EAAE,CAACG,SAAH,aAAkBN,IAAI,CAACO,IAAvB,eAAgCP,IAAI,CAACQ,OAArC;AACA,QAAIC,WAAW,GAAGL,QAAQ,CAACM,aAAT,CAAuB,cAAvB,CAAlB;AACAD,IAAAA,WAAW,CAACE,WAAZ,CAAwBR,EAAxB;AACD,GALD;AAMD,CARD;AAUA,IAAIS,MAAM,GAAGR,QAAQ,CAACM,aAAT,CAAuB,kBAAvB,CAAb;AACAE,MAAM,CAACC,gBAAP,CAAwB,QAAxB,EAAkC,UAACC,CAAD,EAAO;AACvCA,EAAAA,CAAC,CAACC,cAAF;AACA,MAAIR,IAAI,GAAGK,MAAM,CAACF,aAAP,CAAqB,kBAArB,EAAyCM,KAApD;AACA,MAAIR,OAAO,GAAGI,MAAM,CAACF,aAAP,CAAqB,qBAArB,EAA4CM,KAA1D;AACA,MAAIC,OAAO,GAAG7B,EAAE,CAAC8B,MAAH,CAAUC,MAAV,CAAiB,SAAjB,CAAd;AACA,MAAIC,OAAO,GAAG,IAAIH,OAAJ,EAAd;AACAG,EAAAA,OAAO,CAACC,IAAR,CAAa;AAAEd,IAAAA,IAAI,EAAEA,IAAR;AAAcC,IAAAA,OAAO,EAAEA;AAAvB,GAAb,EAA+CZ,IAA/C,CAAoD,UAAC0B,MAAD,EAAY;AAC9D,QAAInB,EAAE,GAAGC,QAAQ,CAACC,aAAT,CAAuB,IAAvB,CAAT;AACAF,IAAAA,EAAE,CAACG,SAAH,aAAkBgB,MAAM,CAACrB,UAAP,CAAkBM,IAApC,eAA6Ce,MAAM,CAACrB,UAAP,CAAkBO,OAA/D;AACA,QAAIC,WAAW,GAAGL,QAAQ,CAACM,aAAT,CAAuB,cAAvB,CAAlB;AACAE,IAAAA,MAAM,CAACF,aAAP,CAAqB,qBAArB,EAA4CM,KAA5C,GAAoD,EAApD;AACAP,IAAAA,WAAW,CAACE,WAAZ,CAAwBR,EAAxB;AACD,GAND;AAOD,CAbD","file":"message.64b510e9.js","sourceRoot":"..\\src","sourcesContent":["AV.init({\r\n  appId: \"6QEhBTOEUrHYTwQvuKyrn0rT-gzGzoHsz\",\r\n  appKey: \"BmT8ng5MmIRlQvDltuvys8Ro\",\r\n  serverURL: \"https://6qehbtoe.lc-cn-n1-shared.com\",\r\n});\r\n\r\n// 示例代码\r\n// let x = AV.Object.extend(\"jerry\");\r\n// let o = new x();\r\n// o.save().then((o) => {\r\n//   console.log(\"保存成功。\");\r\n// });\r\n\r\nlet query = new AV.Query(\"message\");\r\nquery.find().then((messages) => {\r\n  let array = messages.map((item) => item.attributes);\r\n  array.forEach((item) => {\r\n    let li = document.createElement(\"li\");\r\n    li.innerText = `${item.name}: ${item.content}`;\r\n    let messageList = document.querySelector(\"#messageList\");\r\n    messageList.appendChild(li);\r\n  });\r\n});\r\n\r\nlet myForm = document.querySelector(\"#postMessageForm\");\r\nmyForm.addEventListener(\"submit\", (e) => {\r\n  e.preventDefault();\r\n  let name = myForm.querySelector(\"input[name=name]\").value;\r\n  let content = myForm.querySelector(\"input[name=content]\").value;\r\n  let Message = AV.Object.extend(\"message\");\r\n  let message = new Message();\r\n  message.save({ name: name, content: content }).then((object) => {\r\n    let li = document.createElement(\"li\");\r\n    li.innerText = `${object.attributes.name}: ${object.attributes.content}`;\r\n    let messageList = document.querySelector(\"#messageList\");\r\n    myForm.querySelector(\"input[name=content]\").value = \"\";\r\n    messageList.appendChild(li);\r\n  });\r\n});\r\n"]}