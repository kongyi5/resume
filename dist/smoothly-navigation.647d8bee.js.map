{"version":3,"sources":["js/smoothly-navigation.js"],"names":["view","document","querySelector","controller","aTags","init","initAnimation","bindEvents","animate","time","requestAnimationFrame","TWEEN","update","scrollToElement","element","top","offsetTop","currentTop","window","scrollY","targetTop","s","t","Math","abs","coords","y","tween","Tween","to","easing","Easing","Quadratic","InOut","onUpdate","scrollTo","start","querySelectorAll","i","length","onclick","x","preventDefault","a","currentTarget","href","getAttribute","call"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,CAAC,YAAY;AACX,MAAMA,IAAI,GAAGC,QAAQ,CAACC,aAAT,CAAuB,UAAvB,CAAb;AAEA,MAAMC,UAAU,GAAG;AACjBH,IAAAA,IAAI,EAAE,IADW;AAEjBI,IAAAA,KAAK,EAAE,IAFU;AAGjBC,IAAAA,IAAI,EAAE,cAAUL,IAAV,EAAgB;AACpB,WAAKA,IAAL,GAAYA,IAAZ;AACA,WAAKM,aAAL;AACA,WAAKC,UAAL;AACD,KAPgB;AAQjBD,IAAAA,aAAa,EAAE,yBAAY;AACzB,eAASE,OAAT,CAAiBC,IAAjB,EAAuB;AACrBC,QAAAA,qBAAqB,CAACF,OAAD,CAArB;AACAG,QAAAA,KAAK,CAACC,MAAN,CAAaH,IAAb;AACD;;AACDC,MAAAA,qBAAqB,CAACF,OAAD,CAArB;AACD,KAdgB;AAejBK,IAAAA,eAAe,EAAE,yBAAUC,OAAV,EAAmB;AAClC,UAAIC,GAAG,GAAGD,OAAO,CAACE,SAAlB;AACA,UAAIC,UAAU,GAAGC,MAAM,CAACC,OAAxB;AACA,UAAIC,SAAS,GAAGL,GAAG,GAAG,EAAtB;AACA,UAAIM,CAAC,GAAGD,SAAS,GAAGH,UAApB;AACA,UAAIK,CAAC,GAAGC,IAAI,CAACC,GAAL,CAAUH,CAAC,GAAG,GAAL,GAAY,GAArB,CAAR;;AACA,UAAIC,CAAC,GAAG,GAAR,EAAa;AACXA,QAAAA,CAAC,GAAG,GAAJ;AACD;;AACD,UAAMG,MAAM,GAAG;AAAEC,QAAAA,CAAC,EAAET;AAAL,OAAf;AACA,UAAMU,KAAK,GAAG,IAAIhB,KAAK,CAACiB,KAAV,CAAgBH,MAAhB,EACXI,EADW,CACR;AAAEH,QAAAA,CAAC,EAAEN;AAAL,OADQ,EACUE,CADV,EAEXQ,MAFW,CAEJnB,KAAK,CAACoB,MAAN,CAAaC,SAAb,CAAuBC,KAFnB,EAGXC,QAHW,CAGF,YAAM;AACdhB,QAAAA,MAAM,CAACiB,QAAP,CAAgB,CAAhB,EAAmBV,MAAM,CAACC,CAA1B;AACD,OALW,EAMXU,KANW,EAAd;AAOD,KAhCgB;AAiCjB7B,IAAAA,UAAU,EAAE,sBAAY;AAAA;;AACtB,UAAIH,KAAK,GAAG,KAAKJ,IAAL,CAAUqC,gBAAV,CAA2B,qBAA3B,CAAZ;;AACA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGlC,KAAK,CAACmC,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AACrClC,QAAAA,KAAK,CAACkC,CAAD,CAAL,CAASE,OAAT,GAAmB,UAACC,CAAD,EAAO;AACxBA,UAAAA,CAAC,CAACC,cAAF,GADwB,CACJ;;AACpB,cAAIC,CAAC,GAAGF,CAAC,CAACG,aAAV;AACA,cAAIC,IAAI,GAAGF,CAAC,CAACG,YAAF,CAAe,MAAf,CAAX,CAHwB,CAGW;;AACnC,cAAID,IAAI,KAAK,GAAb,EAAkB,CACjB,CADD,MACO;AACL,gBAAI/B,OAAO,GAAGb,QAAQ,CAACC,aAAT,CAAuB2C,IAAvB,CAAd;;AACA,YAAA,KAAI,CAAChC,eAAL,CAAqBC,OAArB;AACD;AACF,SATD;AAUD;AACF;AA/CgB,GAAnB;AAiDAX,EAAAA,UAAU,CAACE,IAAX,CAAgBL,IAAhB;AACD,CArDA,CAqDC+C,IArDD,EAAD","file":"smoothly-navigation.647d8bee.js","sourceRoot":"..\\src","sourcesContent":["!function () {\r\n  const view = document.querySelector(\"nav.menu\");\r\n\r\n  const controller = {\r\n    view: null,\r\n    aTags: null,\r\n    init: function (view) {\r\n      this.view = view;\r\n      this.initAnimation();\r\n      this.bindEvents();\r\n    },\r\n    initAnimation: function () {\r\n      function animate(time) {\r\n        requestAnimationFrame(animate);\r\n        TWEEN.update(time);\r\n      }\r\n      requestAnimationFrame(animate);\r\n    },\r\n    scrollToElement: function (element) {\r\n      let top = element.offsetTop;\r\n      let currentTop = window.scrollY;\r\n      let targetTop = top - 80;\r\n      let s = targetTop - currentTop;\r\n      let t = Math.abs((s / 100) * 300);\r\n      if (t > 500) {\r\n        t = 500;\r\n      }\r\n      const coords = { y: currentTop };\r\n      const tween = new TWEEN.Tween(coords)\r\n        .to({ y: targetTop }, t)\r\n        .easing(TWEEN.Easing.Quadratic.InOut)\r\n        .onUpdate(() => {\r\n          window.scrollTo(0, coords.y);\r\n        })\r\n        .start();\r\n    },\r\n    bindEvents: function () {\r\n      let aTags = this.view.querySelectorAll(\"nav.menu > ul> li>a\");\r\n      for (let i = 0; i < aTags.length; i++) {\r\n        aTags[i].onclick = (x) => {\r\n          x.preventDefault(); // 阻止默认动作\r\n          let a = x.currentTarget;\r\n          let href = a.getAttribute(\"href\"); // '#siteAbout'\r\n          if (href === \"#\") {\r\n          } else {\r\n            let element = document.querySelector(href);\r\n            this.scrollToElement(element);\r\n          }\r\n        };\r\n      }\r\n    },\r\n  };\r\n  controller.init(view);\r\n}.call();\r\n"]}