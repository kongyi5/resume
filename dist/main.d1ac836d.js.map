{"version":3,"sources":["main.js"],"names":["portfolio1","onclick","portfolioBar","className","portfolio2","portfolio3","specialTags","document","querySelectorAll","i","length","classList","add","findClosest","minIndex","Math","abs","offsetTop","window","scrollY","remove","id","li","querySelector","parentNode","brotherAndMe","children","onscroll","topNavBar","liTags","onmouseenter","x","currentTarget","onmouseleave","aTags","animate","time","requestAnimationFrame","TWEEN","update","preventDefault","a","href","getAttribute","element","top","currentTop","targetTop","s","t","coords","y","Tween","to","easing","Easing","Quadratic","InOut","onUpdate","scrollTo","start"],"mappings":";AAAAA,WAAWC,QAAU,WACnBC,aAAaC,UAAY,eAE3BC,WAAWH,QAAU,WACnBC,aAAaC,UAAY,eAE3BE,WAAWJ,QAAU,WACnBC,aAAaC,UAAY,eAK3B,IADA,IAAIG,EAAcC,SAASC,iBAAiB,YACnCC,EAAI,EAAGA,EAAIH,EAAYI,OAAQD,IACtCH,EAAYG,GAAGE,UAAUC,IAAI,UAc/B,SAASC,IAGF,IAFDP,IAAAA,EAAcC,SAASC,iBAAiB,YACxCM,EAAW,EACNL,EAAI,EAAGA,EAAIH,EAAYI,OAAQD,IAEpCM,KAAKC,IAAIV,EAAYG,GAAGQ,UAAYC,OAAOC,SAC3CJ,KAAKC,IAAIV,EAAYQ,GAAUG,UAAYC,OAAOC,WAElDL,EAAWL,GAIfH,EAAYQ,GAAUH,UAAUS,OAAO,UAKlC,IAJDC,IAAAA,EAAKf,EAAYQ,GAAUO,GAE3BC,EADIf,SAASgB,cAAc,YAAcF,EAAK,MACvCG,WACPC,EAAeH,EAAGE,WAAWE,SACxBjB,EAAI,EAAGA,EAAIgB,EAAaf,OAAQD,IACvCgB,EAAahB,GAAGE,UAAUS,OAAO,aAEnCE,EAAGX,UAAUC,IAAI,aA/BnBC,IAEAK,OAAOS,SAAW,WACZT,OAAOC,QAAU,EACnBS,UAAUjB,UAAUC,IAAI,UAExBgB,UAAUjB,UAAUS,OAAO,UAE7BP,KA2BF,IADA,IAAIgB,EAAStB,SAASC,iBAAiB,qBAC9BC,EAAI,EAAGA,EAAIoB,EAAOnB,OAAQD,IACjCoB,EAAOpB,GAAGqB,aAAe,SAACC,GACxBA,EAAEC,cAAcrB,UAAUC,IAAI,WAEhCiB,EAAOpB,GAAGwB,aAAe,SAACF,GACxBA,EAAEC,cAAcrB,UAAUS,OAAO,WAIrC,IAAIc,EAAQ3B,SAASC,iBAAiB,uBAEtC,SAAS2B,EAAQC,GACfC,sBAAsBF,GACtBG,MAAMC,OAAOH,GAEfC,sBAAsBF,GAEtB,IAAK,IAAI1B,EAAI,EAAGA,EAAIyB,EAAMxB,OAAQD,IAChCyB,EAAMzB,GAAGR,QAAU,SAAC8B,GAClBA,EAAES,iBACEC,IACAC,EADIX,EAAEC,cACGW,aAAa,QACtBD,GAAS,MAATA,OACG,CACDE,IACAC,EADUtC,SAASgB,cAAcmB,GACnBzB,UACd6B,EAAa5B,OAAOC,QACpB4B,EAAYF,EAAM,GAClBG,EAAID,EAAYD,EAChBG,EAAIlC,KAAKC,IAAKgC,EAAI,IAAO,KACzBC,EAAI,MACNA,EAAI,KAEAC,IAAAA,EAAS,CAAEC,EAAGL,GACN,IAAIR,MAAMc,MAAMF,GAC3BG,GAAG,CAAEF,EAAGJ,GAAaE,GACrBK,OAAOhB,MAAMiB,OAAOC,UAAUC,OAC9BC,SAAS,WACRxC,OAAOyC,SAAS,EAAGT,EAAOC,KAE3BS","file":"main.d1ac836d.js","sourceRoot":"..\\src","sourcesContent":["portfolio1.onclick = function () {\r\n  portfolioBar.className = \"bar state-1\";\r\n};\r\nportfolio2.onclick = function () {\r\n  portfolioBar.className = \"bar state-2\";\r\n};\r\nportfolio3.onclick = function () {\r\n  portfolioBar.className = \"bar state-3\";\r\n};\r\n\r\n// 添加 offset 类\r\nlet specialTags = document.querySelectorAll(\"[data-x]\");\r\nfor (let i = 0; i < specialTags.length; i++) {\r\n  specialTags[i].classList.add(\"offset\");\r\n}\r\n\r\nfindClosest();\r\n\r\nwindow.onscroll = () => {\r\n  if (window.scrollY > 0) {\r\n    topNavBar.classList.add(\"sticky\");\r\n  } else {\r\n    topNavBar.classList.remove(\"sticky\");\r\n  }\r\n  findClosest();\r\n};\r\n\r\nfunction findClosest() {\r\n  let specialTags = document.querySelectorAll(\"[data-x]\");\r\n  let minIndex = 0;\r\n  for (let i = 1; i < specialTags.length; i++) {\r\n    if (\r\n      Math.abs(specialTags[i].offsetTop - window.scrollY) <\r\n      Math.abs(specialTags[minIndex].offsetTop - window.scrollY)\r\n    ) {\r\n      minIndex = i;\r\n    }\r\n  }\r\n  // minIndex 就是离窗口顶部最近的元素\r\n  specialTags[minIndex].classList.remove(\"offset\");\r\n  let id = specialTags[minIndex].id;\r\n  let a = document.querySelector('a[href=\"#' + id + '\"]');\r\n  let li = a.parentNode;\r\n  let brotherAndMe = li.parentNode.children;\r\n  for (let i = 0; i < brotherAndMe.length; i++) {\r\n    brotherAndMe[i].classList.remove(\"highLight\");\r\n  }\r\n  li.classList.add(\"highLight\");\r\n}\r\n\r\nlet liTags = document.querySelectorAll(\"nav.menu > ul >li\");\r\nfor (let i = 0; i < liTags.length; i++) {\r\n  liTags[i].onmouseenter = (x) => {\r\n    x.currentTarget.classList.add(\"active\");\r\n  };\r\n  liTags[i].onmouseleave = (x) => {\r\n    x.currentTarget.classList.remove(\"active\");\r\n  };\r\n}\r\n\r\nlet aTags = document.querySelectorAll(\"nav.menu > ul> li>a\");\r\n\r\nfunction animate(time) {\r\n  requestAnimationFrame(animate);\r\n  TWEEN.update(time);\r\n}\r\nrequestAnimationFrame(animate);\r\n\r\nfor (let i = 0; i < aTags.length; i++) {\r\n  aTags[i].onclick = (x) => {\r\n    x.preventDefault(); // 阻止默认动作\r\n    let a = x.currentTarget;\r\n    let href = a.getAttribute(\"href\"); // '#siteAbout'\r\n    if (href === \"#\") {\r\n    } else {\r\n      let element = document.querySelector(href);\r\n      let top = element.offsetTop;\r\n      let currentTop = window.scrollY;\r\n      let targetTop = top - 80;\r\n      let s = targetTop - currentTop;\r\n      let t = Math.abs((s / 100) * 300);\r\n      if (t > 500) {\r\n        t = 500;\r\n      }\r\n      const coords = { y: currentTop };\r\n      const tween = new TWEEN.Tween(coords)\r\n        .to({ y: targetTop }, t)\r\n        .easing(TWEEN.Easing.Quadratic.InOut)\r\n        .onUpdate(() => {\r\n          window.scrollTo(0, coords.y);\r\n        })\r\n        .start();\r\n    }\r\n  };\r\n}\r\n"]}