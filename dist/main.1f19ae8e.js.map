{"version":3,"sources":["main.js"],"names":["portfolio1","onclick","portfolioBar","className","portfolio2","portfolio3","specialTags","document","querySelectorAll","i","length","classList","add","findClosest","window","onscroll","scrollY","topNavBar","remove","minIndex","Math","abs","offsetTop","id","a","querySelector","li","parentNode","brotherAndMe","children","liTags","onmouseenter","x","currentTarget","onmouseleave","aTags","animate","time","requestAnimationFrame","TWEEN","update","preventDefault","href","getAttribute","element","top","currentTop","targetTop","s","t","coords","y","tween","Tween","to","easing","Easing","Quadratic","InOut","onUpdate","scrollTo","start"],"mappings":"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","file":"main.1f19ae8e.js","sourceRoot":"..\\src","sourcesContent":["portfolio1.onclick = function () {\r\n  portfolioBar.className = \"bar state-1\";\r\n};\r\nportfolio2.onclick = function () {\r\n  portfolioBar.className = \"bar state-2\";\r\n};\r\nportfolio3.onclick = function () {\r\n  portfolioBar.className = \"bar state-3\";\r\n};\r\n\r\n// 添加 offset 类\r\nlet specialTags = document.querySelectorAll(\"[data-x]\");\r\nfor (let i = 0; i < specialTags.length; i++) {\r\n  specialTags[i].classList.add(\"offset\");\r\n}\r\n\r\nfindClosest();\r\n\r\nwindow.onscroll = () => {\r\n  if (window.scrollY > 0) {\r\n    topNavBar.classList.add(\"sticky\");\r\n  } else {\r\n    topNavBar.classList.remove(\"sticky\");\r\n  }\r\n  findClosest();\r\n};\r\n\r\nfunction findClosest() {\r\n  let specialTags = document.querySelectorAll(\"[data-x]\");\r\n  let minIndex = 0;\r\n  for (let i = 1; i < specialTags.length; i++) {\r\n    if (\r\n      Math.abs(specialTags[i].offsetTop - window.scrollY) <\r\n      Math.abs(specialTags[minIndex].offsetTop - window.scrollY)\r\n    ) {\r\n      minIndex = i;\r\n    }\r\n  }\r\n  // minIndex 就是离窗口顶部最近的元素\r\n  specialTags[minIndex].classList.remove(\"offset\");\r\n  let id = specialTags[minIndex].id;\r\n  let a = document.querySelector('a[href=\"#' + id + '\"]');\r\n  let li = a.parentNode;\r\n  let brotherAndMe = li.parentNode.children;\r\n  for (let i = 0; i < brotherAndMe.length; i++) {\r\n    brotherAndMe[i].classList.remove(\"highLight\");\r\n  }\r\n  li.classList.add(\"highLight\");\r\n}\r\n\r\nlet liTags = document.querySelectorAll(\"nav.menu > ul >li\");\r\nfor (let i = 0; i < liTags.length; i++) {\r\n  liTags[i].onmouseenter = (x) => {\r\n    x.currentTarget.classList.add(\"active\");\r\n  };\r\n  liTags[i].onmouseleave = (x) => {\r\n    x.currentTarget.classList.remove(\"active\");\r\n  };\r\n}\r\n\r\nlet aTags = document.querySelectorAll(\"nav.menu > ul> li>a\");\r\n\r\nfunction animate(time) {\r\n  requestAnimationFrame(animate);\r\n  TWEEN.update(time);\r\n}\r\nrequestAnimationFrame(animate);\r\n\r\nfor (let i = 0; i < aTags.length; i++) {\r\n  aTags[i].onclick = (x) => {\r\n    x.preventDefault(); // 阻止默认动作\r\n    let a = x.currentTarget;\r\n    let href = a.getAttribute(\"href\"); // '#siteAbout'\r\n    if (href === \"#\") {\r\n    } else {\r\n      let element = document.querySelector(href);\r\n      let top = element.offsetTop;\r\n      let currentTop = window.scrollY;\r\n      let targetTop = top - 80;\r\n      let s = targetTop - currentTop;\r\n      let t = Math.abs((s / 100) * 300);\r\n      if (t > 500) {\r\n        t = 500;\r\n      }\r\n      const coords = { y: currentTop };\r\n      const tween = new TWEEN.Tween(coords)\r\n        .to({ y: targetTop }, t)\r\n        .easing(TWEEN.Easing.Quadratic.InOut)\r\n        .onUpdate(() => {\r\n          window.scrollTo(0, coords.y);\r\n        })\r\n        .start();\r\n    }\r\n  };\r\n}\r\n"]}