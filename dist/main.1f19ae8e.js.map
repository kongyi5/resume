{"version":3,"sources":["main.js"],"names":["specialTags","document","querySelectorAll","i","length","classList","add","findClosest","window","onscroll","scrollY","topNavBar","remove","minIndex","Math","abs","offsetTop","id","a","querySelector","li","parentNode","brotherAndMe","children","liTags","onmouseenter","x","currentTarget","onmouseleave","aTags","animate","time","requestAnimationFrame","TWEEN","update","onclick","preventDefault","href","getAttribute","element","top","currentTop","targetTop","s","t","coords","y","tween","Tween","to","easing","Easing","Quadratic","InOut","onUpdate","scrollTo","start"],"mappings":"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","file":"main.1f19ae8e.js","sourceRoot":"..\\src","sourcesContent":["// 添加 offset 类\nlet specialTags = document.querySelectorAll(\"[data-x]\");\nfor (let i = 0; i < specialTags.length; i++) {\n  specialTags[i].classList.add(\"offset\");\n}\n\nfindClosest();\n\nwindow.onscroll = () => {\n  if (window.scrollY > 0) {\n    topNavBar.classList.add(\"sticky\");\n  } else {\n    topNavBar.classList.remove(\"sticky\");\n  }\n  findClosest();\n};\n\nfunction findClosest() {\n  let specialTags = document.querySelectorAll(\"[data-x]\");\n  let minIndex = 0;\n  for (let i = 1; i < specialTags.length; i++) {\n    if (\n      Math.abs(specialTags[i].offsetTop - window.scrollY) <\n      Math.abs(specialTags[minIndex].offsetTop - window.scrollY)\n    ) {\n      minIndex = i;\n    }\n  }\n  // minIndex 就是离窗口顶部最近的元素\n  specialTags[minIndex].classList.remove(\"offset\");\n  let id = specialTags[minIndex].id;\n  let a = document.querySelector('a[href=\"#' + id + '\"]');\n  let li = a.parentNode;\n  let brotherAndMe = li.parentNode.children;\n  for (let i = 0; i < brotherAndMe.length; i++) {\n    brotherAndMe[i].classList.remove(\"highLight\");\n  }\n  li.classList.add(\"highLight\");\n}\n\nlet liTags = document.querySelectorAll(\"nav.menu > ul >li\");\nfor (let i = 0; i < liTags.length; i++) {\n  liTags[i].onmouseenter = (x) => {\n    x.currentTarget.classList.add(\"active\");\n  };\n  liTags[i].onmouseleave = (x) => {\n    x.currentTarget.classList.remove(\"active\");\n  };\n}\n\nlet aTags = document.querySelectorAll(\"nav.menu > ul> li>a\");\n\nfunction animate(time) {\n  requestAnimationFrame(animate);\n  TWEEN.update(time);\n}\nrequestAnimationFrame(animate);\n\nfor (let i = 0; i < aTags.length; i++) {\n  aTags[i].onclick = (x) => {\n    x.preventDefault(); // 阻止默认动作\n    let a = x.currentTarget;\n    let href = a.getAttribute(\"href\"); // '#siteAbout'\n    if (href === \"#\") {\n    } else {\n      let element = document.querySelector(href);\n      let top = element.offsetTop;\n      let currentTop = window.scrollY;\n      let targetTop = top - 80;\n      let s = targetTop - currentTop;\n      let t = Math.abs((s / 100) * 300);\n      if (t > 500) {\n        t = 500;\n      }\n      const coords = { y: currentTop };\n      const tween = new TWEEN.Tween(coords)\n        .to({ y: targetTop }, t)\n        .easing(TWEEN.Easing.Quadratic.InOut)\n        .onUpdate(() => {\n          window.scrollTo(0, coords.y);\n        })\n        .start();\n    }\n  };\n}\n"]}