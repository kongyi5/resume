{"version":3,"sources":["js/init-swiper.js","js/sticky-topBar.js","js/auto-slide-up.js","js/smoothly-navigation.js","js/message.js","main.js"],"names":["view","document","querySelector","controller","swiper","swiperOptions","loop","pagination","el","navigation","nextEl","prevEl","scrollbar","init","initSwiper","Swiper","call","bindEvents","window","addEventListener","scrollY","active","deactive","classList","add","remove","specialTags","querySelectorAll","i","length","findClosestAndRemoveOffset","minIndex","Math","abs","offsetTop","id","a","li","parentNode","brotherAndMe","children","liTags","onmouseenter","x","currentTarget","onmouseleave","aTags","initAnimation","animate","time","requestAnimationFrame","TWEEN","update","scrollToElement","element","top","currentTop","targetTop","s","t","coords","y","tween","Tween","to","easing","Easing","Quadratic","InOut","onUpdate","scrollTo","start","onclick","preventDefault","href","getAttribute","AV","appId","appKey","serverURL","query","Query","find","then","messages","array","map","item","attributes","forEach","createElement","innerText","name","content","messageList","appendChild","myForm","e","value","Message","Object","extend","message","save","object"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,CAAC,YAAY;AACX,MAAMA,IAAI,GAAGC,QAAQ,CAACC,aAAT,CAAuB,WAAvB,CAAb;AACA,MAAMC,UAAU,GAAG;AACjBH,IAAAA,IAAI,EAAE,IADW;AAEjBI,IAAAA,MAAM,EAAE,IAFS;AAGjBC,IAAAA,aAAa,EAAE;AACbC,MAAAA,IAAI,EAAE,IADO;AAEbC,MAAAA,UAAU,EAAE;AACVC,QAAAA,EAAE,EAAE;AADM,OAFC;AAKbC,MAAAA,UAAU,EAAE;AACVC,QAAAA,MAAM,EAAE,qBADE;AAEVC,QAAAA,MAAM,EAAE;AAFE,OALC;AASbC,MAAAA,SAAS,EAAE;AACTJ,QAAAA,EAAE,EAAE;AADK;AATE,KAHE;AAgBjBK,IAAAA,IAAI,EAAE,cAAUb,IAAV,EAAgB;AACpB,WAAKA,IAAL,GAAYA,IAAZ;AACA,WAAKc,UAAL;AACD,KAnBgB;AAoBjBA,IAAAA,UAAU,EAAE,sBAAY;AACtB,WAAKV,MAAL,GAAc,IAAIW,MAAJ,CACZ,KAAKf,IAAL,CAAUE,aAAV,CAAwB,mBAAxB,CADY,EAEZ,KAAKG,aAFO,CAAd;AAID;AAzBgB,GAAnB;AA2BAF,EAAAA,UAAU,CAACU,IAAX,CAAgBb,IAAhB;AACD,CA9BA,CA8BCgB,IA9BD,EAAD;;ACAA,CAAC,YAAY;AACX,MAAMhB,IAAI,GAAGC,QAAQ,CAACC,aAAT,CAAuB,YAAvB,CAAb;AAEA,MAAMC,UAAU,GAAG;AACjBH,IAAAA,IAAI,EAAE,IADW;AAEjBa,IAAAA,IAAI,EAAE,cAAUb,IAAV,EAAgB;AACpB,WAAKA,IAAL,GAAYA,IAAZ;AACA,WAAKiB,UAAL;AACD,KALgB;AAMjBA,IAAAA,UAAU,EAAE,sBAAY;AAAA;;AACtB,UAAIjB,IAAI,GAAG,KAAKA,IAAhB;AACAkB,MAAAA,MAAM,CAACC,gBAAP,CAAwB,QAAxB,EAAkC,YAAM;AACtC,YAAID,MAAM,CAACE,OAAP,GAAiB,CAArB,EAAwB;AACtB,UAAA,KAAI,CAACC,MAAL;AACD,SAFD,MAEO;AACL,UAAA,KAAI,CAACC,QAAL;AACD;AACF,OAND,EAFsB,CAStB;AACD,KAhBgB;AAiBjBD,IAAAA,MAAM,EAAE,kBAAY;AAClB,WAAKrB,IAAL,CAAUuB,SAAV,CAAoBC,GAApB,CAAwB,QAAxB;AACD,KAnBgB;AAoBjBF,IAAAA,QAAQ,EAAE,oBAAY;AACpB,WAAKtB,IAAL,CAAUuB,SAAV,CAAoBE,MAApB,CAA2B,QAA3B;AACD;AAtBgB,GAAnB;AAyBAtB,EAAAA,UAAU,CAACU,IAAX,CAAgBb,IAAhB;AACD,CA7BA,CA6BCgB,IA7BD,EAAD;;ACAA,CAAC,YAAY;AACX;AACA,MAAIU,WAAW,GAAGzB,QAAQ,CAAC0B,gBAAT,CAA0B,UAA1B,CAAlB;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,WAAW,CAACG,MAAhC,EAAwCD,CAAC,EAAzC,EAA6C;AAC3CF,IAAAA,WAAW,CAACE,CAAD,CAAX,CAAeL,SAAf,CAAyBC,GAAzB,CAA6B,QAA7B;AACD;;AACDM,EAAAA,0BAA0B;AAC1BZ,EAAAA,MAAM,CAACC,gBAAP,CAAwB,QAAxB,EAAkC,YAAM;AACtCW,IAAAA,0BAA0B;AAC3B,GAFD;AAIA;;AACA,WAASA,0BAAT,GAAsC;AACpC,QAAIJ,WAAW,GAAGzB,QAAQ,CAAC0B,gBAAT,CAA0B,UAA1B,CAAlB;AACA,QAAII,QAAQ,GAAG,CAAf;;AACA,SAAK,IAAIH,EAAC,GAAG,CAAb,EAAgBA,EAAC,GAAGF,WAAW,CAACG,MAAhC,EAAwCD,EAAC,EAAzC,EAA6C;AAC3C,UACEI,IAAI,CAACC,GAAL,CAASP,WAAW,CAACE,EAAD,CAAX,CAAeM,SAAf,GAA2BhB,MAAM,CAACE,OAA3C,IACAY,IAAI,CAACC,GAAL,CAASP,WAAW,CAACK,QAAD,CAAX,CAAsBG,SAAtB,GAAkChB,MAAM,CAACE,OAAlD,CAFF,EAGE;AACAW,QAAAA,QAAQ,GAAGH,EAAX;AACD;AACF,KAVmC,CAWpC;;;AACAF,IAAAA,WAAW,CAACK,QAAD,CAAX,CAAsBR,SAAtB,CAAgCE,MAAhC,CAAuC,QAAvC;AACA,QAAIU,EAAE,GAAGT,WAAW,CAACK,QAAD,CAAX,CAAsBI,EAA/B;AACA,QAAIC,CAAC,GAAGnC,QAAQ,CAACC,aAAT,CAAuB,cAAciC,EAAd,GAAmB,IAA1C,CAAR;AACA,QAAIE,EAAE,GAAGD,CAAC,CAACE,UAAX;AACA,QAAIC,YAAY,GAAGF,EAAE,CAACC,UAAH,CAAcE,QAAjC;;AACA,SAAK,IAAIZ,GAAC,GAAG,CAAb,EAAgBA,GAAC,GAAGW,YAAY,CAACV,MAAjC,EAAyCD,GAAC,EAA1C,EAA8C;AAC5CW,MAAAA,YAAY,CAACX,GAAD,CAAZ,CAAgBL,SAAhB,CAA0BE,MAA1B,CAAiC,WAAjC;AACD;;AACDY,IAAAA,EAAE,CAACd,SAAH,CAAaC,GAAb,CAAiB,WAAjB;AACD;;AAED,MAAIiB,MAAM,GAAGxC,QAAQ,CAAC0B,gBAAT,CAA0B,mBAA1B,CAAb;;AACA,OAAK,IAAIC,GAAC,GAAG,CAAb,EAAgBA,GAAC,GAAGa,MAAM,CAACZ,MAA3B,EAAmCD,GAAC,EAApC,EAAwC;AACtCa,IAAAA,MAAM,CAACb,GAAD,CAAN,CAAUc,YAAV,GAAyB,UAACC,CAAD,EAAO;AAC9BA,MAAAA,CAAC,CAACC,aAAF,CAAgBrB,SAAhB,CAA0BC,GAA1B,CAA8B,QAA9B;AACD,KAFD;;AAGAiB,IAAAA,MAAM,CAACb,GAAD,CAAN,CAAUiB,YAAV,GAAyB,UAACF,CAAD,EAAO;AAC9BA,MAAAA,CAAC,CAACC,aAAF,CAAgBrB,SAAhB,CAA0BE,MAA1B,CAAiC,QAAjC;AACD,KAFD;AAGD;AACF,CA5CA,CA4CCT,IA5CD,EAAD;;ACAA,CAAC,YAAY;AACX,MAAMhB,IAAI,GAAGC,QAAQ,CAACC,aAAT,CAAuB,UAAvB,CAAb;AAEA,MAAMC,UAAU,GAAG;AACjBH,IAAAA,IAAI,EAAE,IADW;AAEjB8C,IAAAA,KAAK,EAAE,IAFU;AAGjBjC,IAAAA,IAAI,EAAE,cAAUb,IAAV,EAAgB;AACpB,WAAKA,IAAL,GAAYA,IAAZ;AACA,WAAK+C,aAAL;AACA,WAAK9B,UAAL;AACD,KAPgB;AAQjB8B,IAAAA,aAAa,EAAE,yBAAY;AACzB,eAASC,OAAT,CAAiBC,IAAjB,EAAuB;AACrBC,QAAAA,qBAAqB,CAACF,OAAD,CAArB;AACAG,QAAAA,KAAK,CAACC,MAAN,CAAaH,IAAb;AACD;;AACDC,MAAAA,qBAAqB,CAACF,OAAD,CAArB;AACD,KAdgB;AAejBK,IAAAA,eAAe,EAAE,yBAAUC,OAAV,EAAmB;AAClC,UAAIC,GAAG,GAAGD,OAAO,CAACpB,SAAlB;AACA,UAAIsB,UAAU,GAAGtC,MAAM,CAACE,OAAxB;AACA,UAAIqC,SAAS,GAAGF,GAAG,GAAG,EAAtB;AACA,UAAIG,CAAC,GAAGD,SAAS,GAAGD,UAApB;AACA,UAAIG,CAAC,GAAG3B,IAAI,CAACC,GAAL,CAAUyB,CAAC,GAAG,GAAL,GAAY,GAArB,CAAR;;AACA,UAAIC,CAAC,GAAG,GAAR,EAAa;AACXA,QAAAA,CAAC,GAAG,GAAJ;AACD;;AACD,UAAMC,MAAM,GAAG;AAAEC,QAAAA,CAAC,EAAEL;AAAL,OAAf;AACA,UAAMM,KAAK,GAAG,IAAIX,KAAK,CAACY,KAAV,CAAgBH,MAAhB,EACXI,EADW,CACR;AAAEH,QAAAA,CAAC,EAAEJ;AAAL,OADQ,EACUE,CADV,EAEXM,MAFW,CAEJd,KAAK,CAACe,MAAN,CAAaC,SAAb,CAAuBC,KAFnB,EAGXC,QAHW,CAGF,YAAM;AACdnD,QAAAA,MAAM,CAACoD,QAAP,CAAgB,CAAhB,EAAmBV,MAAM,CAACC,CAA1B;AACD,OALW,EAMXU,KANW,EAAd;AAOD,KAhCgB;AAiCjBtD,IAAAA,UAAU,EAAE,sBAAY;AAAA;;AACtB,UAAI6B,KAAK,GAAG,KAAK9C,IAAL,CAAU2B,gBAAV,CAA2B,qBAA3B,CAAZ;;AACA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGkB,KAAK,CAACjB,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AACrCkB,QAAAA,KAAK,CAAClB,CAAD,CAAL,CAAS4C,OAAT,GAAmB,UAAC7B,CAAD,EAAO;AACxBA,UAAAA,CAAC,CAAC8B,cAAF,GADwB,CACJ;;AACpB,cAAIrC,CAAC,GAAGO,CAAC,CAACC,aAAV;AACA,cAAI8B,IAAI,GAAGtC,CAAC,CAACuC,YAAF,CAAe,MAAf,CAAX,CAHwB,CAGW;;AACnC,cAAID,IAAI,KAAK,GAAb,EAAkB,CACjB,CADD,MACO;AACL,gBAAIpB,OAAO,GAAGrD,QAAQ,CAACC,aAAT,CAAuBwE,IAAvB,CAAd;;AACA,YAAA,KAAI,CAACrB,eAAL,CAAqBC,OAArB;AACD;AACF,SATD;AAUD;AACF;AA/CgB,GAAnB;AAiDAnD,EAAAA,UAAU,CAACU,IAAX,CAAgBb,IAAhB;AACD,CArDA,CAqDCgB,IArDD,EAAD;;ACAA4D,EAAE,CAAC/D,IAAH,CAAQ;AACNgE,EAAAA,KAAK,EAAE,mCADD;AAENC,EAAAA,MAAM,EAAE,0BAFF;AAGNC,EAAAA,SAAS,EAAE;AAHL,CAAR,GAMA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIC,KAAK,GAAG,IAAIJ,EAAE,CAACK,KAAP,CAAa,SAAb,CAAZ;AACAD,KAAK,CAACE,IAAN,GAAaC,IAAb,CAAkB,UAACC,QAAD,EAAc;AAC9B,MAAIC,KAAK,GAAGD,QAAQ,CAACE,GAAT,CAAa,UAACC,IAAD;AAAA,WAAUA,IAAI,CAACC,UAAf;AAAA,GAAb,CAAZ;AACAH,EAAAA,KAAK,CAACI,OAAN,CAAc,UAACF,IAAD,EAAU;AACtB,QAAIlD,EAAE,GAAGpC,QAAQ,CAACyF,aAAT,CAAuB,IAAvB,CAAT;AACArD,IAAAA,EAAE,CAACsD,SAAH,aAAkBJ,IAAI,CAACK,IAAvB,eAAgCL,IAAI,CAACM,OAArC;AACA,QAAIC,WAAW,GAAG7F,QAAQ,CAACC,aAAT,CAAuB,cAAvB,CAAlB;AACA4F,IAAAA,WAAW,CAACC,WAAZ,CAAwB1D,EAAxB;AACD,GALD;AAMD,CARD;AAUA,IAAI2D,MAAM,GAAG/F,QAAQ,CAACC,aAAT,CAAuB,kBAAvB,CAAb;AACA8F,MAAM,CAAC7E,gBAAP,CAAwB,QAAxB,EAAkC,UAAC8E,CAAD,EAAO;AACvCA,EAAAA,CAAC,CAACxB,cAAF;AACA,MAAImB,IAAI,GAAGI,MAAM,CAAC9F,aAAP,CAAqB,kBAArB,EAAyCgG,KAApD;AACA,MAAIL,OAAO,GAAGG,MAAM,CAAC9F,aAAP,CAAqB,qBAArB,EAA4CgG,KAA1D;AACA,MAAIC,OAAO,GAAGvB,EAAE,CAACwB,MAAH,CAAUC,MAAV,CAAiB,SAAjB,CAAd;AACA,MAAIC,OAAO,GAAG,IAAIH,OAAJ,EAAd;AACAG,EAAAA,OAAO,CAACC,IAAR,CAAa;AAAEX,IAAAA,IAAI,EAAEA,IAAR;AAAcC,IAAAA,OAAO,EAAEA;AAAvB,GAAb,EAA+CV,IAA/C,CAAoD,UAACqB,MAAD,EAAY;AAC9D,QAAInE,EAAE,GAAGpC,QAAQ,CAACyF,aAAT,CAAuB,IAAvB,CAAT;AACArD,IAAAA,EAAE,CAACsD,SAAH,aAAkBa,MAAM,CAAChB,UAAP,CAAkBI,IAApC,eAA6CY,MAAM,CAAChB,UAAP,CAAkBK,OAA/D;AACA,QAAIC,WAAW,GAAG7F,QAAQ,CAACC,aAAT,CAAuB,cAAvB,CAAlB;AACA8F,IAAAA,MAAM,CAAC9F,aAAP,CAAqB,qBAArB,EAA4CgG,KAA5C,GAAoD,EAApD;AACAJ,IAAAA,WAAW,CAACC,WAAZ,CAAwB1D,EAAxB;AACD,GAND;AAOD,CAbD;;;;ACzBA;;AACA;;AACA;;AACA;;AACA","file":"main.b89a0e9f.js","sourceRoot":"..\\src","sourcesContent":["!function () {\r\n  const view = document.querySelector(\"#mySlides\");\r\n  const controller = {\r\n    view: null,\r\n    swiper: null,\r\n    swiperOptions: {\r\n      loop: true,\r\n      pagination: {\r\n        el: \".swiper-pagination\",\r\n      },\r\n      navigation: {\r\n        nextEl: \".swiper-button-next\",\r\n        prevEl: \".swiper-button-prev\",\r\n      },\r\n      scrollbar: {\r\n        el: \".swiper-scrollbar\",\r\n      },\r\n    },\r\n    init: function (view) {\r\n      this.view = view;\r\n      this.initSwiper();\r\n    },\r\n    initSwiper: function () {\r\n      this.swiper = new Swiper(\r\n        this.view.querySelector(\".swiper-container\"),\r\n        this.swiperOptions\r\n      );\r\n    },\r\n  };\r\n  controller.init(view);\r\n}.call();\r\n","!function () {\r\n  const view = document.querySelector(\"#topNavBar\");\r\n\r\n  const controller = {\r\n    view: null,\r\n    init: function (view) {\r\n      this.view = view;\r\n      this.bindEvents();\r\n    },\r\n    bindEvents: function () {\r\n      var view = this.view;\r\n      window.addEventListener(\"scroll\", () => {\r\n        if (window.scrollY > 0) {\r\n          this.active();\r\n        } else {\r\n          this.deactive();\r\n        }\r\n      });\r\n      // 箭头函数内外this不变\r\n    },\r\n    active: function () {\r\n      this.view.classList.add(\"sticky\");\r\n    },\r\n    deactive: function () {\r\n      this.view.classList.remove(\"sticky\");\r\n    },\r\n  };\r\n\r\n  controller.init(view);\r\n}.call();\r\n","!function () {\r\n  // 添加 offset 类\r\n  let specialTags = document.querySelectorAll(\"[data-x]\");\r\n  for (let i = 0; i < specialTags.length; i++) {\r\n    specialTags[i].classList.add(\"offset\");\r\n  }\r\n  findClosestAndRemoveOffset();\r\n  window.addEventListener(\"scroll\", () => {\r\n    findClosestAndRemoveOffset();\r\n  });\r\n\r\n  /* helper */\r\n  function findClosestAndRemoveOffset() {\r\n    let specialTags = document.querySelectorAll(\"[data-x]\");\r\n    let minIndex = 0;\r\n    for (let i = 1; i < specialTags.length; i++) {\r\n      if (\r\n        Math.abs(specialTags[i].offsetTop - window.scrollY) <\r\n        Math.abs(specialTags[minIndex].offsetTop - window.scrollY)\r\n      ) {\r\n        minIndex = i;\r\n      }\r\n    }\r\n    // minIndex 就是离窗口顶部最近的元素\r\n    specialTags[minIndex].classList.remove(\"offset\");\r\n    let id = specialTags[minIndex].id;\r\n    let a = document.querySelector('a[href=\"#' + id + '\"]');\r\n    let li = a.parentNode;\r\n    let brotherAndMe = li.parentNode.children;\r\n    for (let i = 0; i < brotherAndMe.length; i++) {\r\n      brotherAndMe[i].classList.remove(\"highLight\");\r\n    }\r\n    li.classList.add(\"highLight\");\r\n  }\r\n\r\n  let liTags = document.querySelectorAll(\"nav.menu > ul >li\");\r\n  for (let i = 0; i < liTags.length; i++) {\r\n    liTags[i].onmouseenter = (x) => {\r\n      x.currentTarget.classList.add(\"active\");\r\n    };\r\n    liTags[i].onmouseleave = (x) => {\r\n      x.currentTarget.classList.remove(\"active\");\r\n    };\r\n  }\r\n}.call();\r\n","!function () {\r\n  const view = document.querySelector(\"nav.menu\");\r\n\r\n  const controller = {\r\n    view: null,\r\n    aTags: null,\r\n    init: function (view) {\r\n      this.view = view;\r\n      this.initAnimation();\r\n      this.bindEvents();\r\n    },\r\n    initAnimation: function () {\r\n      function animate(time) {\r\n        requestAnimationFrame(animate);\r\n        TWEEN.update(time);\r\n      }\r\n      requestAnimationFrame(animate);\r\n    },\r\n    scrollToElement: function (element) {\r\n      let top = element.offsetTop;\r\n      let currentTop = window.scrollY;\r\n      let targetTop = top - 80;\r\n      let s = targetTop - currentTop;\r\n      let t = Math.abs((s / 100) * 300);\r\n      if (t > 500) {\r\n        t = 500;\r\n      }\r\n      const coords = { y: currentTop };\r\n      const tween = new TWEEN.Tween(coords)\r\n        .to({ y: targetTop }, t)\r\n        .easing(TWEEN.Easing.Quadratic.InOut)\r\n        .onUpdate(() => {\r\n          window.scrollTo(0, coords.y);\r\n        })\r\n        .start();\r\n    },\r\n    bindEvents: function () {\r\n      let aTags = this.view.querySelectorAll(\"nav.menu > ul> li>a\");\r\n      for (let i = 0; i < aTags.length; i++) {\r\n        aTags[i].onclick = (x) => {\r\n          x.preventDefault(); // 阻止默认动作\r\n          let a = x.currentTarget;\r\n          let href = a.getAttribute(\"href\"); // '#siteAbout'\r\n          if (href === \"#\") {\r\n          } else {\r\n            let element = document.querySelector(href);\r\n            this.scrollToElement(element);\r\n          }\r\n        };\r\n      }\r\n    },\r\n  };\r\n  controller.init(view);\r\n}.call();\r\n","AV.init({\r\n  appId: \"6QEhBTOEUrHYTwQvuKyrn0rT-gzGzoHsz\",\r\n  appKey: \"BmT8ng5MmIRlQvDltuvys8Ro\",\r\n  serverURL: \"https://6qehbtoe.lc-cn-n1-shared.com\",\r\n});\r\n\r\n// 示例代码\r\n// let x = AV.Object.extend(\"jerry\");\r\n// let o = new x();\r\n// o.save().then((o) => {\r\n//   console.log(\"保存成功。\");\r\n// });\r\n\r\nlet query = new AV.Query(\"message\");\r\nquery.find().then((messages) => {\r\n  let array = messages.map((item) => item.attributes);\r\n  array.forEach((item) => {\r\n    let li = document.createElement(\"li\");\r\n    li.innerText = `${item.name}: ${item.content}`;\r\n    let messageList = document.querySelector(\"#messageList\");\r\n    messageList.appendChild(li);\r\n  });\r\n});\r\n\r\nlet myForm = document.querySelector(\"#postMessageForm\");\r\nmyForm.addEventListener(\"submit\", (e) => {\r\n  e.preventDefault();\r\n  let name = myForm.querySelector(\"input[name=name]\").value;\r\n  let content = myForm.querySelector(\"input[name=content]\").value;\r\n  let Message = AV.Object.extend(\"message\");\r\n  let message = new Message();\r\n  message.save({ name: name, content: content }).then((object) => {\r\n    let li = document.createElement(\"li\");\r\n    li.innerText = `${object.attributes.name}: ${object.attributes.content}`;\r\n    let messageList = document.querySelector(\"#messageList\");\r\n    myForm.querySelector(\"input[name=content]\").value = \"\";\r\n    messageList.appendChild(li);\r\n  });\r\n});\r\n","import \"./js/init-swiper.js\";\nimport \"./js/sticky-topBar.js\";\nimport \"./js/auto-slide-up.js\";\nimport \"./js/smoothly-navigation.js\";\nimport \"./js/message.js\";\n"]}